<section class="mt-5">
    <table class="table table-md mt-2 w-full">
        <thead>
            <tr>
                <th>#</th>
                <th>Ícono</th>
                <th>Bandera</th>
                <th>País</th>
                <th>Capital</th>
                <th>Población</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @for (country of countries(); track country.cca2; let index = $index) {
                <tr>
                    <td>{{ index + 1}}</td>
                    <td>{{ country.flag }}</td>
                    <td>
                        <img [src]="country.flagsvg" [alt]="country.name" class="w-10">
                    </td>
                    <td>{{country.name}}</td>
                    <td>{{ country.capital }}</td>
                    <span class="badge badge-ghost">
                        <td> {{ country.population | number}}</td>
                    </span>
                    <td>
                        <a  [routerLink]="['/country/by/',country.cca2]"
                            class="link-primary cursor-pointer box-content">
                            Más Informacion <i class="fa-solid fa-up-right-from-square"></i>
                        </a>
                    </td>
                </tr>

            }

            @if( errorMessage()){
                <tr>
                    <td colspan="9" class="text-center">
                        {{errorMessage}}
                    </td>
                </tr>
            }

            @if(countries().length === 0 && !isLoading()){
                <tr>
                    <td colspan="9" class="text-center">
                        No se encontraron resultados
                    </td>
                </tr>
            }

            @if(isLoading() && !errorMessage()){
                <tr>
                    <td colspan="9" class="text-center">
                        Cargando...
                    </td>
                </tr>
            }

        </tbody>
    </table>
</section>